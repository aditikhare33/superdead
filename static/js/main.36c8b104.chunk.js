(this.webpackJsonpsuperdead=this.webpackJsonpsuperdead||[]).push([[0],{13:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var i=s(3),a=s.n(i),n=s(14),r=s.n(n),o=s(7),d=s(8),h=s(2),c=s(10),l=s(9),u=(s(13),s(5)),j=s(4),p=s(0),b=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(o.a)(this,s),(i=t.call(this,e)).state={songs:["bg_music.mp3","gameOver.mp3"],direction:[e.dir_x,e.dir_y],song_index:0,paused:!1,just_started:!0},i.handleAudio=i.handleAudio.bind(Object(h.a)(i)),console.log("INITAL PROPS",e),i}return Object(d.a)(s,[{key:"componentDidUpdate",value:function(e){e.gameOver!==this.props.gameOver?this.setState({paused:!1,direction:[0,0],just_started:!1}):e!==this.props&&this.setState({direction:[this.props.dir_x,this.props.dir_y]})}},{key:"handleAudio",value:function(e){e.persist();var t=this.state.paused,s=document.getElementById("audio");t?(s.play(),this.setState({paused:!1})):(s.pause(),this.setState({paused:!0})),console.log("inHandleAudio")}},{key:"renderAudioOptions",value:function(){var e=[],t=this.state,s=t.direction,i=t.paused,a=t.songs,n=(t.just_started,Object(p.jsx)(u.a,{icon:j.c}));return i&&(n=Object(p.jsx)(u.a,{icon:j.b})),0!==s[0]||0!==s[1]?(console.log("song",a[0]),e.push(Object(p.jsxs)("button",{onClick:this.handleAudio,children:[Object(p.jsxs)("audio",{autoPlay:!0,loop:!0,class:"audio",id:"audio",children:[Object(p.jsx)("source",{src:a[0],type:"audio/mp3"}),"Your browser does not support the audio element."]}),"Sound: ",n]}))):this.props.gameOver&&(console.log("song",a[1]),e.push(Object(p.jsxs)("audio",{autoPlay:!0,class:"audio",id:"audio",children:[Object(p.jsx)("source",{src:a[1],type:"audio/mp3"}),"Your browser does not support the audio element."]}))),e}},{key:"render",value:function(){var e=this.renderAudioOptions();return Object(p.jsx)("div",{id:"music_player",children:e})}}]),s}(a.a.Component),O=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var i;Object(o.a)(this,s),(i=t.call(this,e)).handleEat=i.handleEat.bind(Object(h.a)(i)),i.handleKeyDown=i.handleKeyDown.bind(Object(h.a)(i)),i.incrementMove=i.incrementMove.bind(Object(h.a)(i)),i.handleRestartGame=i.handleRestartGame.bind(Object(h.a)(i)),i.handleGameOver=i.handleGameOver.bind(Object(h.a)(i)),i.handleHelp=i.handleHelp.bind(Object(h.a)(i));var a=i.props,n=a.wd,r=a.ht;return i.state={height:r,width:n,apple:[Math.floor(Math.random()*n),Math.floor(Math.random()*r)],head:[Math.floor(Math.random()*n),Math.floor(Math.random()*r)],points:0,direction:[0,0],timeOut:setTimeout(i.incrementMove,1e3),gameOver:!1,highscore:0,needHelp:!1,waitLength:120},window.addEventListener("keydown",i.handleKeyDown),i}return Object(d.a)(s,[{key:"componentDidMount",value:function(){}},{key:"handleEat",value:function(){if(!this.state.gameOver){var e=this.state.points,t=this.state.highscore;e+1>=this.state.highscore&&(t=e+1);var s=this.state.waitLength;s<=75&&(s=76),console.log("ATE",e+1,"SPEED:",s-1),this.setState({points:e+1,apple:[Math.floor(Math.random()*this.state.width),Math.floor(Math.random()*this.state.height)],highscore:t,waitLength:s-1})}}},{key:"handleKeyDown",value:function(e){if(!this.state.gameOver){console.log("KEY PRESSED",e.code);var t=!0,s=0,i=0;"KeyW"===e.code||"ArrowUp"===e.code?i=-1:"KeyS"===e.code||"ArrowDown"===e.code?i=1:"KeyA"===e.code||"ArrowLeft"===e.code?s=-1:"KeyD"===e.code||"ArrowRight"===e.code?s=1:t=!1,t&&(clearTimeout(this.state.timeOut),this.setState({direction:[s,i],timeOut:setTimeout(this.incrementMove,0)}))}}},{key:"incrementMove",value:function(){var e=this.state.head;e=[e[0]+this.state.direction[0],e[1]+this.state.direction[1]];var t=this.state.waitLength;this.setState({head:e,timeOut:setTimeout(this.incrementMove,t)});var s=this.state,i=s.head,a=s.width,n=s.height;(i[0]===a||i[0]<=-1||i[1]<=-1||i[1]===n)&&this.handleGameOver(),this.state.apple[0]===this.state.head[0]&&this.state.apple[1]===this.state.head[1]&&this.handleEat()}},{key:"handleGameOver",value:function(){clearTimeout(this.state.timeOut),this.setState({gameOver:!0,direction:[0,0],waitLength:120})}},{key:"handleRestartGame",value:function(e){e.persist();var t=this.state,s=t.height,i=t.width;this.setState({apple:[Math.floor(Math.random()*i),Math.floor(Math.random()*s)],head:[Math.floor(Math.random()*i),Math.floor(Math.random()*s)],points:0,direction:[0,0],timeOut:setTimeout(this.incrementMove,1e3),gameOver:!1})}},{key:"handleHelp",value:function(e){e.persist(),this.setState({needHelp:!this.state.needHelp})}},{key:"renderGrid",value:function(){for(var e=this.state,t=e.apple,s=e.width,i=e.height,a=e.head,n=[],r=["grid-item","grid-item filled"],o=0,d=0;d<i;d++){for(var h=0;h<s;h++)h===t[0]&&d===t[1]?n.push(Object(p.jsxs)("div",{class:r[o],children:[" ",Object(p.jsx)("div",{class:"apple"})]},d*s+h)):h===a[0]&&d===a[1]?n.push(Object(p.jsxs)("div",{class:r[o],children:[" ",Object(p.jsx)("div",{class:"snake"})]})):n.push(Object(p.jsx)("div",{class:r[o],children:"  "})),o=++o%2;o=++o%2}return n}},{key:"renderGameOver",value:function(){var e=[];return this.state.gameOver&&e.push(Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"button",onClick:this.handleRestartGame,name:"restart-button",class:"redbtn",children:"Try Again?"})})})),e}},{key:"renderHelp",value:function(){var e=[];return this.state.needHelp?e.push(Object(p.jsx)("div",{children:Object(p.jsxs)("div",{id:"helpScreen",class:"start",children:[Object(p.jsxs)("div",{class:"helpbtn",children:[Object(p.jsx)("button",{onClick:this.handleHelp,children:Object(p.jsx)(u.a,{icon:j.a})}),Object(p.jsx)("span",{class:"centerRules",children:Object(p.jsx)("b",{children:" RULES: "})})]}),Object(p.jsx)("span",{class:"caption",children:Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:["You are the white dot. ",Object(p.jsx)("br",{})]}),Object(p.jsxs)("li",{children:[" Use WASD or Arrow Keys to get around. ",Object(p.jsx)("br",{})," "]}),Object(p.jsxs)("li",{children:[" Eat red dots. ",Object(p.jsx)("br",{})," "]}),Object(p.jsxs)("li",{children:[" Do not fall off edges. ",Object(p.jsx)("br",{})," "]})]})}),"Good luck! ",Object(p.jsx)("br",{})]})})):e.push(Object(p.jsx)("button",{onClick:this.handleHelp,"font-size":"12",children:"Need Help?"})),e}},{key:"renderTitle",value:function(){return this.state.gameOver?[Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("h1",{class:"superdead",children:"uh oh, you SUPER-DIED"})]}),"red"]:[Object(p.jsxs)("div",{children:["Now Playing:",Object(p.jsx)("h1",{class:"h1",children:"YOU ARE DEAD, but hungry "})]}),"h1"]}},{key:"render",value:function(){var e=this.state,t=e.points,s=e.highscore,i=e.direction,a=this.renderTitle(),n=a[0],r=a[1],o=this.renderHelp(),d=this.renderGrid(),h=this.renderGameOver();return Object(p.jsxs)("div",{class:r,children:[n,Object(p.jsx)("div",{class:"board",children:d}),Object(p.jsxs)("p",{class:"score",children:["Score: ",t,"  Highscore: ",s]}),Object(p.jsx)("div",{children:Object(p.jsx)(b,{dir_x:i[0],dir_y:i[1],gameOver:this.state.gameOver})}),h,o]})}}]),s}(a.a.Component);r.a.render(Object(p.jsx)(O,{wd:20,ht:10}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.36c8b104.chunk.js.map